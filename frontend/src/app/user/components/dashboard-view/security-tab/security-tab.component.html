<div class="card m-3">
    <div class="container py-3">
        <div class="d-inline-block">
            <div class="tab-label ms-auto">
                <mat-icon color="primary">security</mat-icon>
                <p class="h4 p-0 m-0 mx-2">
                    Security
                </p>
            </div>
        </div>
        <mat-divider color="primary" class="border-3 my-3"></mat-divider>
        <div class="p-3 my-3 card">
            <form [formGroup]="userPasswordGroup">
                <div class="d-flex flex-wrap">
                    <mat-form-field appearance="outline" id="userId" class="me-auto half-width-input">
                        <mat-label>User ID</mat-label>
                        <input matInput type="text" id="userId" formControlName="userId" readonly />
                    </mat-form-field>
                    <mat-form-field appearance="outline" id="userType" class="half-width-input">
                        <mat-label>User Type</mat-label>
                        <input matInput type="text" id="userType" formControlName="userType" readonly />
                    </mat-form-field>
                </div>
                <div class="d-flex">
                    <mat-form-field appearance="fill" class="me-auto half-width-input">
                        <mat-label>Old Password</mat-label>
                        <input matInput type="{{(showPassword === false)?'password':'text'}}" id="oldPassword"
                            formControlName="oldPassword" autocomplete="off">
                        <mat-icon matSuffix style="cursor: pointer;" (click)="toggleShowPassword()">
                            {{!showPassword?'visibility':'visibility_off'}}</mat-icon>
                        <mat-error *ngIf="oldPassword?.errors?.['required']">
                            Old Password is required.
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="d-flex flex-wrap">
                    <mat-form-field appearance="fill" class="me-auto half-width-input">
                        <mat-label>New Password</mat-label>
                        <input matInput type="{{(showPassword === false)?'password':'text'}}" id="newPassword"
                            formControlName="newPassword" autocomplete="off">
                        <mat-icon matSuffix style="cursor: pointer;" (click)="toggleShowPassword()">
                            {{!showPassword?'visibility':'visibility_off'}}</mat-icon>
                        <mat-error *ngIf="newPassword?.errors?.['required']">
                            New Password is required.
                        </mat-error>
                        <mat-error *ngIf="newPassword?.errors?.['pattern']">
                            Password should have min 8 letter password, with at least a symbol, upper and lower case
                            letters
                            and a number.
                        </mat-error>
                        <mat-error *ngIf="userPasswordGroup?.errors?.['passwordSame'] === true">
                            Old Password and New Password should be different.
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="fill" class="half-width-input">
                        <mat-label>Confirm New Password</mat-label>
                        <input matInput type="{{(showPassword === false)?'password':'text'}}" id="confirmNewPassword"
                            formControlName="confirmNewPassword" autocomplete="off">
                        <mat-error *ngIf="confirmNewPassword?.errors?.['required']">
                            Confirm New Password is required.
                        </mat-error>
                        <mat-error *ngIf="userPasswordGroup?.errors?.['passwordMismatch'] === true">
                            New Password and New Password confirmation should match.
                        </mat-error>
                    </mat-form-field>
                </div>
            </form>
            <div class="">
                <mat-error class="" *ngIf="userPasswordGroup?.errors?.['passwordSame'] === true">
                    Old Password and New Password should be different.
                </mat-error>
                <mat-error *ngIf="userPasswordGroup?.errors?.['passwordMismatch'] === true">
                    New Password and New Password confirmation should match.
                </mat-error>
                <mat-error *ngIf="displayCredentialsValidError" class="h6 text-danger">
                    Incorrect Old Password.
                </mat-error>
            </div>
            <div class="mt-3 d-flex justify-content-center">
                <div class="button-container d-inline-block">
                    <button mat-mini-fab matTooltip="Save" (click)="saveClick()" class="" color="warn" [disabled]="!userPasswordGroup.valid">
                        <mat-icon class="">save</mat-icon>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>